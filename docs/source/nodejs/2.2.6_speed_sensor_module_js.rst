.. note::

    ¡Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook. Sumérgete más en Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **¿Por qué unirse?**

    - **Soporte de expertos**: Resuelve problemas postventa y desafíos técnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Previsualizaciones exclusivas**: Obtén acceso anticipado a nuevos anuncios de productos y adelantos.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos más nuevos.
    - **Promociones y sorteos festivos**: Participa en sorteos y promociones de temporada.

    👉 ¿Listo para explorar y crear con nosotros? ¡Haz clic en [|link_sf_facebook|] y únete hoy!

.. _2.2.6_js:

2.2.6 Módulo Sensor de Velocidad
====================================

Introducción
---------------

En este proyecto, aprenderemos el uso del módulo sensor de velocidad. Un módulo sensor de velocidad es un tipo de tacómetro que se utiliza para medir la velocidad de un objeto en rotación, como un motor.

Componentes Necesarios
--------------------------

En este proyecto, necesitamos los siguientes componentes.

.. image:: ../img/2.2.6component.png
    :width: 700
    :align: center

Es definitivamente conveniente comprar un kit completo, aquí está el enlace:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

También puedes comprarlos por separado en los enlaces a continuación.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIÓN DEL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_gpio_extension_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_led`
        - |link_led_buy|
    *   - :ref:`cpn_speed_sensor`
        - \-

Diagrama Esquemático
------------------------

.. image:: ../img/2.2.6circuit.png
    :width: 400
    :align: center

Procedimientos Experimentales
---------------------------------

**Paso 1:** Construir el circuito.

.. image:: ../img/2.2.6fritzing.png
    :width: 700
    :align: center

**Paso 2:** Ir a la carpeta del código.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/raphael-kit/nodejs/

**Paso 3:** Ejecutar el código.

.. raw:: html

   <run></run>

.. code-block::

    sudo node speed_sensor_module.js

Después de ejecutar el código, el LED verde se encenderá. Si colocas un obstáculo en el hueco del módulo sensor de velocidad, se imprimirá "luz bloqueada" en la pantalla y el LED rojo se encenderá.
Retira el obstáculo y el LED verde se encenderá nuevamente.

**Código**

.. code-block:: js

    const Gpio = require('pigpio').Gpio;

    const Rpin = new Gpio(22, { mode: Gpio.OUTPUT });
    const Gpin = new Gpio(27, { mode: Gpio.OUTPUT });

    const speedPin = new Gpio(17, {
        mode: Gpio.INPUT,
        pullUpDown: Gpio.PUD_DOWN,     
        edge: Gpio.EITHER_EDGE        
    });

    speedPin.on('interrupt', (level) => {
        if (level) {
            console.log("Light was blocked");
        }
        Rpin.digitalWrite(level);
        Gpin.digitalWrite(!level);
    });

    process.on('SIGINT', function () {
        Rpin.digitalWrite(0);
        Gpin.digitalWrite(0);
        process.exit();
    });

**Explicación del Código**

El código de este ejemplo es casi el mismo que el de :ref:`2.1.5_js`, por lo que no es necesario repetirlo.

Imagen del Fenómeno
------------------------

.. image:: ../img/2.2.6photo_interrrupter.JPG
    :width: 500
    :align: center

